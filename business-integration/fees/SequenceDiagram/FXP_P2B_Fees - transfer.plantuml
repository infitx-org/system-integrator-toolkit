@startuml FXP_P2B_Fees - transfer
title FXP Transaction Fee - P2B Merchant Payment with Currency Conversion
skinparam monochrome true
autonumber

participant "Mojaloop Connector" as MC
participant "Core Connector" as CC
participant "FXP" as FXP

== Incoming FX Conversion Request ==
note over MC: Agreement in Place; executing FX conversion request\nfor merchant payment (ZMW → MWK)


MC -> CC: FX conversion execution
CC -> FXP: Execute conversion\n680 ZMW → 50500 MWK

FXP -> FXP: Perform currency conversion\nConvert: 680 ZMW → 51005 MWK\n**Deduct FXP fee: 505 MWK**

FXP -> CC: Conversion completed
CC -> MC: FX conversion successful

note over FXP: FXP earns **505 MWK fee**\nfor converting 680 ZMW to 50500 MWK

@enduml
